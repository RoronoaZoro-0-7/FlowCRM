module.exports=[45343,a=>{"use strict";var b=a.i(87924),c=a.i(48078),d=a.i(38422),e=a.i(72131),f=a.i(7554),g=a.i(50104),h=a.i(24050),i=a.i(77192),j=a.i(30553),k=a.i(7827),l=a.i(25152),m=a.i(92843),n="Tabs",[o,p]=(0,g.createContextScope)(n,[h.createRovingFocusGroupScope]),q=(0,h.createRovingFocusGroupScope)(),[r,s]=o(n),t=e.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,onValueChange:f,defaultValue:g,orientation:h="horizontal",dir:i,activationMode:n="automatic",...o}=a,p=(0,k.useDirection)(i),[q,s]=(0,l.useControllableState)({prop:e,onChange:f,defaultProp:g});return(0,b.jsx)(r,{scope:d,baseId:(0,m.useId)(),value:q,onValueChange:s,orientation:h,dir:p,activationMode:n,children:(0,b.jsx)(j.Primitive.div,{dir:p,"data-orientation":h,...o,ref:c})})});t.displayName=n;var u="TabsList",v=e.forwardRef((a,c)=>{let{__scopeTabs:d,loop:e=!0,...f}=a,g=s(u,d),i=q(d);return(0,b.jsx)(h.Root,{asChild:!0,...i,orientation:g.orientation,dir:g.dir,loop:e,children:(0,b.jsx)(j.Primitive.div,{role:"tablist","aria-orientation":g.orientation,...f,ref:c})})});v.displayName=u;var w="TabsTrigger",x=e.forwardRef((a,c)=>{let{__scopeTabs:d,value:e,disabled:g=!1,...i}=a,k=s(w,d),l=q(d),m=A(k.baseId,e),n=B(k.baseId,e),o=e===k.value;return(0,b.jsx)(h.Item,{asChild:!0,...l,focusable:!g,active:o,children:(0,b.jsx)(j.Primitive.button,{type:"button",role:"tab","aria-selected":o,"aria-controls":n,"data-state":o?"active":"inactive","data-disabled":g?"":void 0,disabled:g,id:m,...i,ref:c,onMouseDown:(0,f.composeEventHandlers)(a.onMouseDown,a=>{g||0!==a.button||!1!==a.ctrlKey?a.preventDefault():k.onValueChange(e)}),onKeyDown:(0,f.composeEventHandlers)(a.onKeyDown,a=>{[" ","Enter"].includes(a.key)&&k.onValueChange(e)}),onFocus:(0,f.composeEventHandlers)(a.onFocus,()=>{let a="manual"!==k.activationMode;o||g||!a||k.onValueChange(e)})})})});x.displayName=w;var y="TabsContent",z=e.forwardRef((a,c)=>{let{__scopeTabs:d,value:f,forceMount:g,children:h,...k}=a,l=s(y,d),m=A(l.baseId,f),n=B(l.baseId,f),o=f===l.value,p=e.useRef(o);return e.useEffect(()=>{let a=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,b.jsx)(i.Presence,{present:g||o,children:({present:d})=>(0,b.jsx)(j.Primitive.div,{"data-state":o?"active":"inactive","data-orientation":l.orientation,role:"tabpanel","aria-labelledby":m,hidden:!d,id:n,tabIndex:0,...k,ref:c,style:{...a.style,animationDuration:p.current?"0s":void 0},children:d&&h})})});function A(a,b){return`${a}-trigger-${b}`}function B(a,b){return`${a}-content-${b}`}z.displayName=y;var C=a.i(97895);function D({className:a,...c}){return(0,b.jsx)(t,{"data-slot":"tabs",className:(0,C.cn)("flex flex-col gap-2",a),...c})}function E({className:a,...c}){return(0,b.jsx)(v,{"data-slot":"tabs-list",className:(0,C.cn)("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",a),...c})}function F({className:a,...c}){return(0,b.jsx)(x,{"data-slot":"tabs-trigger",className:(0,C.cn)("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",a),...c})}function G({className:a,...c}){return(0,b.jsx)(z,{"data-slot":"tabs-content",className:(0,C.cn)("flex-1 outline-none",a),...c})}var H=a.i(3130),I=a.i(40695),J=a.i(5522),K=a.i(17171),L=a.i(70121),M=a.i(77994),N=a.i(3688),O="Switch",[P,Q]=(0,g.createContextScope)(O),[R,S]=P(O);e.forwardRef((a,c)=>{let{__scopeSwitch:d,name:g,checked:h,defaultChecked:i,required:k,disabled:m,value:n="on",onCheckedChange:o,form:p,...q}=a,[r,s]=e.useState(null),t=(0,L.useComposedRefs)(c,a=>s(a)),u=e.useRef(!1),v=!r||p||!!r.closest("form"),[w=!1,x]=(0,l.useControllableState)({prop:h,defaultProp:i,onChange:o});return(0,b.jsxs)(R,{scope:d,checked:w,disabled:m,children:[(0,b.jsx)(j.Primitive.button,{type:"button",role:"switch","aria-checked":w,"aria-required":k,"data-state":V(w),"data-disabled":m?"":void 0,disabled:m,value:n,...q,ref:t,onClick:(0,f.composeEventHandlers)(a.onClick,a=>{x(a=>!a),v&&(u.current=a.isPropagationStopped(),u.current||a.stopPropagation())})}),v&&(0,b.jsx)(U,{control:r,bubbles:!u.current,name:g,value:n,checked:w,required:k,disabled:m,form:p,style:{transform:"translateX(-100%)"}})]})}).displayName=O;var T="SwitchThumb";e.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=S(T,d);return(0,b.jsx)(j.Primitive.span,{"data-state":V(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})}).displayName=T;var U=a=>{let{control:c,checked:d,bubbles:f=!0,...g}=a,h=e.useRef(null),i=(0,M.usePrevious)(d),j=(0,N.useSize)(c);return e.useEffect(()=>{let a=h.current,b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(i!==d&&b){let c=new Event("click",{bubbles:f});b.call(a,d),a.dispatchEvent(c)}},[i,d,f]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:d,...g,tabIndex:-1,ref:h,style:{...a.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function V(a){return a?"checked":"unchecked"}var W=a.i(7379),X=a.i(23292),Y=a.i(70106);let Z=(0,Y.default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);a.i(23312);let $=(0,Y.default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var _=a.i(77156);let aa="http://localhost:3000/api";function ab(){let[a,c]=(0,e.useState)(!1),[d,f]=(0,e.useState)({name:"John Doe",email:"john@example.com",phone:"+1 (555) 123-4567"}),g=async()=>{try{X.toast.success("Profile updated successfully"),c(!1)}catch(a){X.toast.error("Failed to update profile")}};return(0,b.jsxs)(H.Card,{children:[(0,b.jsxs)(H.CardHeader,{children:[(0,b.jsxs)(H.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(Z,{className:"h-5 w-5"}),"Profile Information"]}),(0,b.jsx)(H.CardDescription,{children:"Update your personal information"})]}),(0,b.jsxs)(H.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(K.Label,{htmlFor:"name",children:"Full Name"}),(0,b.jsx)(J.Input,{id:"name",value:d.name,disabled:!a,onChange:a=>f({...d,name:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(K.Label,{htmlFor:"email",children:"Email"}),(0,b.jsx)(J.Input,{id:"email",type:"email",value:d.email,disabled:!a,onChange:a=>f({...d,email:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(K.Label,{htmlFor:"phone",children:"Phone"}),(0,b.jsx)(J.Input,{id:"phone",value:d.phone,disabled:!a,onChange:a=>f({...d,phone:a.target.value})})]}),(0,b.jsx)("div",{className:"flex gap-2",children:a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I.Button,{onClick:()=>c(!1),variant:"outline",children:"Cancel"}),(0,b.jsx)(I.Button,{onClick:g,children:"Save Changes"})]}):(0,b.jsx)(I.Button,{onClick:()=>c(!0),variant:"outline",children:"Edit Profile"})})]})]})}function ac(){let[a,c]=(0,e.useState)(!1),[d,f]=(0,e.useState)(!1),[g,h]=(0,e.useState)(!1),[i,j]=(0,e.useState)(""),[k,l]=(0,e.useState)(""),[m,n]=(0,e.useState)(""),[o,p]=(0,e.useState)(""),[q,r]=(0,e.useState)(""),[s,t]=(0,e.useState)(!1),[u,v]=(0,e.useState)(!1);(0,e.useState)(()=>{(async()=>{try{let a=localStorage.getItem("accessToken"),b=await fetch(`${aa}/2fa/status`,{headers:{Authorization:`Bearer ${a}`},credentials:"include"});if(b.ok){let a=await b.json();f(a.enabled)}}catch(a){console.error("Failed to fetch 2FA status:",a)}})()});let w=async()=>{v(!0);try{let a=localStorage.getItem("accessToken"),b=await fetch(`${aa}/2fa/setup`,{method:"POST",headers:{Authorization:`Bearer ${a}`},credentials:"include"});if(b.ok){let a=await b.json();j(a.qrCode),l(a.secret),h(!0)}else{let a=await b.json();X.toast.error(a.message||"Failed to setup 2FA")}}catch(a){X.toast.error("Failed to setup 2FA")}v(!1)},x=async()=>{if(!m||6!==m.length)return void X.toast.error("Please enter a 6-digit code");v(!0);try{let a=localStorage.getItem("accessToken"),b=await fetch(`${aa}/2fa/verify`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:m})});if(b.ok)X.toast.success("2FA enabled successfully!"),f(!0),h(!1),n("");else{let a=await b.json();X.toast.error(a.message||"Invalid verification code")}}catch(a){X.toast.error("Failed to verify 2FA")}v(!1)},y=async()=>{if(!o||!q)return void X.toast.error("Please enter both your password and 2FA code");v(!0);try{let a=localStorage.getItem("accessToken"),b=await fetch(`${aa}/2fa/disable`,{method:"POST",headers:{Authorization:`Bearer ${a}`,"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({token:o,password:q})});if(b.ok)X.toast.success("2FA disabled successfully"),f(!1),t(!1),p(""),r("");else{let a=await b.json();X.toast.error(a.message||"Failed to disable 2FA")}}catch(a){X.toast.error("Failed to disable 2FA")}v(!1)};return(0,b.jsxs)(H.Card,{children:[(0,b.jsxs)(H.CardHeader,{children:[(0,b.jsxs)(H.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)($,{className:"h-5 w-5"}),"Security"]}),(0,b.jsx)(H.CardDescription,{children:"Manage your account security and sessions"})]}),(0,b.jsxs)(H.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-2",children:"Password"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Last changed 30 days ago"}),a?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsx)(J.Input,{type:"password",placeholder:"Current password"}),(0,b.jsx)(J.Input,{type:"password",placeholder:"New password"}),(0,b.jsx)(J.Input,{type:"password",placeholder:"Confirm password"}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(I.Button,{variant:"outline",onClick:()=>c(!1),children:"Cancel"}),(0,b.jsx)(I.Button,{children:"Update Password"})]})]}):(0,b.jsx)(I.Button,{variant:"outline",onClick:()=>c(!0),children:"Change Password"})]}),(0,b.jsx)(W.Separator,{}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-2",children:"Two-Factor Authentication"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Add an extra layer of security to your account"}),d?(0,b.jsxs)("div",{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-green-600",children:[(0,b.jsx)($,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"2FA is enabled"})]}),s?(0,b.jsxs)("div",{className:"space-y-3 max-w-sm",children:[(0,b.jsx)(J.Input,{type:"password",placeholder:"Your password",value:q,onChange:a=>r(a.target.value)}),(0,b.jsx)(J.Input,{type:"text",placeholder:"6-digit 2FA code",maxLength:6,value:o,onChange:a=>p(a.target.value.replace(/\D/g,""))}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(I.Button,{variant:"outline",onClick:()=>t(!1),children:"Cancel"}),(0,b.jsx)(I.Button,{variant:"destructive",onClick:y,disabled:u,children:u?"Disabling...":"Disable 2FA"})]})]}):(0,b.jsx)(I.Button,{variant:"outline",onClick:()=>t(!0),children:"Disable 2FA"})]}):g?(0,b.jsxs)("div",{className:"space-y-4 max-w-sm",children:[(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Scan this QR code with your authenticator app (Google Authenticator, Authy, etc.)"}),i&&(0,b.jsx)("div",{className:"flex justify-center p-4 bg-white rounded-lg",children:(0,b.jsx)("img",{src:i,alt:"2FA QR Code",className:"w-48 h-48"})}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(K.Label,{children:"Or enter this code manually:"}),(0,b.jsx)("code",{className:"block p-2 bg-muted rounded text-xs break-all",children:k})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(K.Label,{children:"Enter the 6-digit code from your app:"}),(0,b.jsx)(J.Input,{type:"text",placeholder:"000000",maxLength:6,value:m,onChange:a=>n(a.target.value.replace(/\D/g,""))})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(I.Button,{variant:"outline",onClick:()=>h(!1),children:"Cancel"}),(0,b.jsx)(I.Button,{onClick:x,disabled:u,children:u?"Verifying...":"Verify & Enable"})]})]}):(0,b.jsx)(I.Button,{variant:"outline",onClick:w,disabled:u,children:u?"Setting up...":"Enable 2FA"})]}),(0,b.jsx)(W.Separator,{}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-2",children:"Active Sessions"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Manage devices that have access to your account"}),(0,b.jsx)(I.Button,{variant:"outline",children:"View All Sessions"})]})]})]})}function ad(){let[a,c]=(0,e.useState)(!1),[d,f]=(0,e.useState)({orgName:"Acme Corporation",industry:"Technology",size:"50-100",website:"https://acme.com"}),g=async()=>{try{X.toast.success("Organization settings updated"),c(!1)}catch(a){X.toast.error("Failed to update settings")}};return(0,b.jsxs)(H.Card,{children:[(0,b.jsxs)(H.CardHeader,{children:[(0,b.jsxs)(H.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(_.Eye,{className:"h-5 w-5"}),"Organization"]}),(0,b.jsx)(H.CardDescription,{children:"Manage your organization information (admin only)"})]}),(0,b.jsxs)(H.CardContent,{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(K.Label,{htmlFor:"orgName",children:"Organization Name"}),(0,b.jsx)(J.Input,{id:"orgName",value:d.orgName,disabled:!a,onChange:a=>f({...d,orgName:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(K.Label,{htmlFor:"industry",children:"Industry"}),(0,b.jsx)(J.Input,{id:"industry",value:d.industry,disabled:!a,onChange:a=>f({...d,industry:a.target.value})})]})]}),(0,b.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(K.Label,{htmlFor:"size",children:"Organization Size"}),(0,b.jsx)(J.Input,{id:"size",value:d.size,disabled:!a,onChange:a=>f({...d,size:a.target.value})})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(K.Label,{htmlFor:"website",children:"Website"}),(0,b.jsx)(J.Input,{id:"website",value:d.website,disabled:!a,onChange:a=>f({...d,website:a.target.value})})]})]}),(0,b.jsx)("div",{className:"flex gap-2",children:a?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(I.Button,{onClick:()=>c(!1),variant:"outline",children:"Cancel"}),(0,b.jsx)(I.Button,{onClick:g,children:"Save Changes"})]}):(0,b.jsx)(I.Button,{onClick:()=>c(!0),variant:"outline",children:"Edit Organization"})})]})]})}function ae(){return(0,b.jsxs)(H.Card,{children:[(0,b.jsxs)(H.CardHeader,{children:[(0,b.jsx)(H.CardTitle,{children:"Billing & Subscription"}),(0,b.jsx)(H.CardDescription,{children:"Manage your billing information and subscription"})]}),(0,b.jsxs)(H.CardContent,{className:"space-y-6",children:[(0,b.jsx)("div",{className:"rounded-lg border border-border/50 p-4",children:(0,b.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium",children:"Current Plan: Professional"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"$99/month, renews on January 26, 2027"})]}),(0,b.jsx)("span",{className:"text-green-600 dark:text-green-400 text-sm font-medium",children:"Active"})]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h4",{className:"font-medium mb-2",children:"Payment Method"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-3",children:"Visa ending in 4242"}),(0,b.jsx)(I.Button,{variant:"outline",children:"Update Payment Method"})]}),(0,b.jsx)(I.Button,{variant:"outline",className:"text-destructive bg-transparent",children:"Downgrade Plan"})]})]})}function af(){let{user:a}=(0,d.useAuth)();return(0,b.jsx)(c.AppLayout,{children:(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-2",children:"Manage your account and organization settings"})]}),(0,b.jsxs)(D,{defaultValue:"profile",className:"w-full",children:[(0,b.jsxs)(E,{className:"grid w-full max-w-md grid-cols-2",children:[(0,b.jsx)(F,{value:"profile",children:"Profile"}),(0,b.jsx)(F,{value:"security",children:"Security"})]}),(0,b.jsxs)("div",{className:"mt-6 space-y-6",children:[(0,b.jsxs)(G,{value:"profile",className:"space-y-6",children:[(0,b.jsx)(ab,{}),a?.role==="ADMIN"&&(0,b.jsx)(ad,{}),(0,b.jsx)(ae,{})]}),(0,b.jsx)(G,{value:"security",children:(0,b.jsx)(ac,{})})]})]})]})})}a.s(["default",()=>af],45343)}];

//# sourceMappingURL=app_settings_page_tsx_e11d1352._.js.map